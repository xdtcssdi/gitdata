<!--
@author Jannchie
@email jannchie@gmail.com
@create date 2018-07-18 08:42:38
@modify date 2018-10-14 20:24:19
@desc A data visualization project based on d3.js. 
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="/static/js/jquery-2.1.1.min.js"></script>

    <title>动态排名数据可视化 ver1.1 By Jannchie</title>
</head>


    <link rel="stylesheet" href="/static/css/stylesheet.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="/static/js/config.js"></script>
    <script src="/static/js/visual.js"></script>
<script>

    var r = new FileReader();
    var url ={{ data|safe }};

    $.get(url, function (data) {
        console.log(typeof(data))
        blob = new Blob([data])

        r.readAsText(blob, config.encoding);
        r.onload = function () {
        //读取完成后，数据保存在对象的result属性中
        var data = d3.csvParse(this.result);
        draw(data);
    };

  });


</script>
<body>
<center>
    <svg width="1920" height="1080"></svg>
</center>
</body>

</html>